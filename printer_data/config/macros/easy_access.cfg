[gcode_macro EASY_ACCESS]
gcode:
    G90   ; Absolute Positioning
    
    {% if printer.toolhead.homed_axes == "xyz" %}   ; Check to see if all axis are homed
	    G0 Z150   ; Set Z before moving printhead
	    CENTER

    {% elif printer.toolhead.homed_axes == "xy" %}   ; Check to see if only X and Y are homed
        RESPOND TYPE=command MSG="action:prompt_begin WARNING: Z NOT HOMED"
        RESPOND TYPE=command MSG="action:prompt_text Do you want to home the Z axis?"
        RESPOND TYPE=command MSG="action:prompt_footer_button YES|_HOME_Z_ACCESS"
        RESPOND TYPE=command MSG="action:prompt_footer_button NO|_CENTER|error"
        RESPOND TYPE=command MSG="action:prompt_show"   ; Allows the user to ignore homing Z

    {% else %}
        G28   ; Home all axis
        G0 150   ; Set Z axis to 150
	    CENTER
    {% endif %}


[gcode_macro _CENTER]
gcode:
    RESPOND TYPE=command MSG="action:prompt_end"
    G0 F6000 X150 Y0   ; Bring printhead to center

[gcode_macro _HOME_Z_ACCESS]
gcode:
    RESPOND TYPE=command MSG="action:prompt_end"
    G28 Z   ; Home Z axis
    G0 Z150   ; Set Z axis to 5
    G0 F6000 X150 Y0   ; Bring printhead to center